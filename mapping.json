{
    "personMappings": [
        {
            "name": "Contact.Business.Address.Country",
            "mode": "fixed",
            "value": "Nederland",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Contact.Business.Address.HouseNumber",
            "mode": "complex",
            "value": "function getValue() {\r\n    const contracts = source.Contracts;\r\n    const today = new Date();\r\n\r\n    const activeContracts = contracts.filter(c => {\r\n        const start = new Date(c.StartDate);\r\n        const end = c.EndDate ? new Date(c.EndDate) : null;\r\n        return start <= today && (!end || end >= today);\r\n    });\r\n\r\n    let selectedContract;\r\n\r\n    if (activeContracts.length > 0) {\r\n        // Sort active contracts newest → oldest\r\n        activeContracts.sort((a, b) => new Date(b.StartDate) - new Date(a.StartDate));\r\n        selectedContract = activeContracts[0];\r\n    } else {\r\n        // No active contract → fallback to most recent based on StartDate\r\n        const sorted = [...contracts].sort((a, b) => new Date(b.StartDate) - new Date(a.StartDate));\r\n        selectedContract = sorted[0];\r\n    }\r\n\r\n    return selectedContract.Location.HouseNumber\r\n}\r\n\r\ngetValue();\r\n",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Contact.Business.Address.Locality",
            "mode": "complex",
            "value": "function getValue() {\r\n    const contracts = source.Contracts;\r\n    const today = new Date();\r\n\r\n    const activeContracts = contracts.filter(c => {\r\n        const start = new Date(c.StartDate);\r\n        const end = c.EndDate ? new Date(c.EndDate) : null;\r\n        return start <= today && (!end || end >= today);\r\n    });\r\n\r\n    let selectedContract;\r\n\r\n    if (activeContracts.length > 0) {\r\n        // Sort active contracts newest → oldest\r\n        activeContracts.sort((a, b) => new Date(b.StartDate) - new Date(a.StartDate));\r\n        selectedContract = activeContracts[0];\r\n    } else {\r\n        // No active contract → fallback to most recent based on StartDate\r\n        const sorted = [...contracts].sort((a, b) => new Date(b.StartDate) - new Date(a.StartDate));\r\n        selectedContract = sorted[0];\r\n    }\r\n\r\n    return selectedContract.Location.City\r\n}\r\n\r\ngetValue();\r\n",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Contact.Business.Address.PostalCode",
            "mode": "complex",
            "value": "function getValue() {\r\n    const contracts = source.Contracts;\r\n    const today = new Date();\r\n\r\n    const activeContracts = contracts.filter(c => {\r\n        const start = new Date(c.StartDate);\r\n        const end = c.EndDate ? new Date(c.EndDate) : null;\r\n        return start <= today && (!end || end >= today);\r\n    });\r\n\r\n    let selectedContract;\r\n\r\n    if (activeContracts.length > 0) {\r\n        // Sort active contracts newest → oldest\r\n        activeContracts.sort((a, b) => new Date(b.StartDate) - new Date(a.StartDate));\r\n        selectedContract = activeContracts[0];\r\n    } else {\r\n        // No active contract → fallback to most recent based on StartDate\r\n        const sorted = [...contracts].sort((a, b) => new Date(b.StartDate) - new Date(a.StartDate));\r\n        selectedContract = sorted[0];\r\n    }\r\n\r\n    return selectedContract.Location.PostalCode\r\n}\r\n\r\ngetValue();\r\n",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Contact.Business.Address.Street",
            "mode": "complex",
            "value": "function getValue() {\r\n    const contracts = source.Contracts;\r\n    const today = new Date();\r\n\r\n    const activeContracts = contracts.filter(c => {\r\n        const start = new Date(c.StartDate);\r\n        const end = c.EndDate ? new Date(c.EndDate) : null;\r\n        return start <= today && (!end || end >= today);\r\n    });\r\n\r\n    let selectedContract;\r\n\r\n    if (activeContracts.length > 0) {\r\n        // Sort active contracts newest → oldest\r\n        activeContracts.sort((a, b) => new Date(b.StartDate) - new Date(a.StartDate));\r\n        selectedContract = activeContracts[0];\r\n    } else {\r\n        // No active contract → fallback to most recent based on StartDate\r\n        const sorted = [...contracts].sort((a, b) => new Date(b.StartDate) - new Date(a.StartDate));\r\n        selectedContract = sorted[0];\r\n    }\r\n\r\n    return selectedContract.Location.Street\r\n}\r\n\r\ngetValue();\r\n",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Contact.Personal.Address.Country",
            "mode": "field",
            "value": "PersonalAddressCountry",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Contact.Personal.Address.HouseNumber",
            "mode": "field",
            "value": "PersonalAddressHouseNumber",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Contact.Personal.Address.HouseNumberExt",
            "mode": "field",
            "value": "PersonalAddressHouseNumberExt",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Contact.Personal.Address.Locality",
            "mode": "field",
            "value": "PersonalAddressLocality",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Contact.Personal.Address.PostalCode",
            "mode": "field",
            "value": "PersonalAddressPostalCode",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Contact.Personal.Address.Street",
            "mode": "field",
            "value": "PersonalAddressStreet",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Contact.Personal.Email",
            "mode": "field",
            "value": "EmailPrivate",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Contact.Personal.Phone.Fixed",
            "mode": "field",
            "value": "PhoneFixedPersonal",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Contact.Personal.Phone.Mobile",
            "mode": "field",
            "value": "PhoneMobilePersonal",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Details.BirthDate",
            "mode": "field",
            "value": "Birthdate",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Details.BirthLocality",
            "mode": "field",
            "value": "BirthLocality",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Details.Gender",
            "mode": "complex",
            "value": "function translateGender() {\r\n    const gender = source.Gender\r\n\r\n    if (gender === 'Male') {\r\n        return 'Man'\r\n    } else {\r\n        return 'Vrouw'\r\n    }\r\n}\r\n\r\ntranslateGender()",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Details.MaritalStatus",
            "mode": "field",
            "value": "MaritalStatus",
            "validation": {
                "required": false
            }
        },
        {
            "name": "ExternalId",
            "mode": "field",
            "value": "ExternalId",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Name.Convention",
            "mode": "complex",
            "value": "function getNameConvention() {\r\n    const convention = source.Convention\r\n\r\n    switch (convention) {\r\n        case 1:\r\n            return 'BP'\r\n        case 2:\r\n            return 'P'\r\n        case 3:\r\n            return 'PB'\r\n        default: \r\n            return 'B'\r\n    }\r\n}\r\n\r\ngetNameConvention()",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Name.FamilyName",
            "mode": "field",
            "value": "FamilyName",
            "validation": {
                "required": true
            }
        },
        {
            "name": "Name.FamilyNamePartner",
            "mode": "field",
            "value": "FamilyNamePartner",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Name.FamilyNamePartnerPrefix",
            "mode": "field",
            "value": "FamilyNamePartnerPrefix",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Name.FamilyNamePrefix",
            "mode": "field",
            "value": "FamilyNamePrefix",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Name.GivenName",
            "mode": "field",
            "value": "GivenName",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Name.Initials",
            "mode": "field",
            "value": "Initials",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Name.NickName",
            "mode": "field",
            "value": "Nickname",
            "validation": {
                "required": true
            }
        }
    ],
    "contractMappings": [
        {
            "name": "Department.DisplayName",
            "mode": "field",
            "value": "Department.DisplayName",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Department.ExternalId",
            "mode": "field",
            "value": "Department.ExternalId",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Details.Fte",
            "mode": "field",
            "value": "Fte",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Details.HoursPerWeek",
            "mode": "field",
            "value": "HoursPerWeek",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Details.Percentage",
            "mode": "field",
            "value": "Percentage",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Details.Sequence",
            "mode": "field",
            "value": "Sequence",
            "validation": {
                "required": false
            }
        },
        {
            "name": "EndDate",
            "mode": "field",
            "value": "EndDate",
            "validation": {
                "required": false
            }
        },
        {
            "name": "ExternalId",
            "mode": "field",
            "value": "ExternalId",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Location.Code",
            "mode": "field",
            "value": "Location.ExternalId",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Location.ExternalId",
            "mode": "field",
            "value": "Location.ExternalId",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Location.Name",
            "mode": "field",
            "value": "Location.DisplayName",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Organization.Name",
            "mode": "field",
            "value": "Organization",
            "validation": {
                "required": false
            }
        },
        {
            "name": "StartDate",
            "mode": "field",
            "value": "StartDate",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Title.Code",
            "mode": "field",
            "value": "Title.ExternalId",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Title.ExternalId",
            "mode": "field",
            "value": "Title.ExternalId",
            "validation": {
                "required": false
            }
        },
        {
            "name": "Title.Name",
            "mode": "field",
            "value": "Title.DisplayName",
            "validation": {
                "required": false
            }
        }
    ]
}